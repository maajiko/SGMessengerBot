# SGMessengerBot - Telegram转发机器人

一个简单的Telegram机器人，用于将用户消息转发给管理员，管理员可以回复消息转发给用户。

## 功能特点

- 消息转发：将用户消息转发给管理员
- 管理员回复：支持管理员回复用户消息
- 用户验证：防止机器人滥用
- 话题管理：在群组中为每个用户创建独立话题
- 全体广播：管理员可向所有用户发送广播消息

## 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置机器人

复制配置文件：
```bash
cp .env.example .env
```

编辑 `.env` 文件，填入配置：
```env
# 从 @BotFather 获取
BOT_TOKEN=你的机器人Token

# 从 @userinfobot 获取
OWNER_ID=你的用户ID

# 论坛群组ID（需要先创建论坛群组）
GROUP_ID=群组ID
```

### 3. 准备工作

#### 创建机器人
1. 找到 @BotFather
2. 发送 `/newbot` 创建机器人
3. 获取Bot Token

#### 获取用户ID
1. 找到 @userinfobot
2. 发送消息获取你的用户ID

#### 创建论坛群组
1. 创建新群组
2. 在群组设置中启用"话题"功能
3. 将机器人添加为管理员
4. 给机器人"管理话题"权限

### 4. 运行机器人

```bash
python main.py
```

## 常见问题

**Q: 机器人无法创建话题？**
A: 确保群组启用了"话题"功能，机器人是管理员且有"管理话题"权限

**Q: 配置后无法启动？**
A: 检查 `.env` 文件格式，确保Token和ID正确

**Q: 用户收不到回复？**
A: 用户可能阻止了机器人，需要重新启动对话

## 许可证

MIT License
